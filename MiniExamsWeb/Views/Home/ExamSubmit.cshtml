@using BussinessLayer
@model UsersExam
@{
    ViewData["Title"] = "Assessment Results";
    bool passed = Model.IsPass;
}

<div class="animate-fade-in" style="max-width: 650px; margin: 3rem auto; text-align: center;">
    <div class="card" style="padding: 4rem 2rem; border: 1px solid var(--border-color); position: relative; overflow: hidden; border-top: 8px solid @(passed ? "var(--success)" : "var(--danger)");">
        
        <!-- Background Decoration -->
        <div style="position: absolute; top: -100px; right: -100px; width: 300px; height: 300px; background: @(passed ? "rgba(16, 185, 129, 0.05)" : "rgba(239, 68, 68, 0.05)"); border-radius: 50%; z-index: 0;"></div>

        <div style="position: relative; z-index: 1;">
            <div style="width: 100px; height: 100px; margin: 0 auto 2.5rem; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 3rem; 
                        background: @(passed ? "rgba(16, 185, 129, 0.1)" : "rgba(239, 68, 68, 0.1)"); 
                        color: @(passed ? "var(--success)" : "var(--danger)");
                        box-shadow: 0 0 30px @(passed ? "rgba(16, 185, 129, 0.2)" : "rgba(239, 68, 68, 0.2)");">
                <i class="fas @(passed ? "fa-certificate" : "fa-redo-alt")"></i>
            </div>

            <h1 style="font-size: 2.75rem; font-weight: 800; margin-bottom: 1rem; color: var(--text-primary);">
                @(passed ? "Assessment Passed!" : "Attempt Incomplete")
            </h1>
            
            <p style="color: var(--text-secondary); font-size: 1.1rem; margin-bottom: 3rem; max-width: 450px; margin-left: auto; margin-right: auto;">
                @(passed 
                    ? "Congratulations! You have successfully demonstrated competency in this examination and met the certification standards." 
                    : "Unfortunately, you were unable to meet the passing threshold. Review the material and schedule a re-attempt.")
            </p>

            <div style="display: flex; gap: 2rem; justify-content: center; margin-bottom: 4rem;">
                <div style="text-align: left;">
                    <div style="color: var(--text-muted); font-size: 0.8rem; text-transform: uppercase; font-weight: 700; margin-bottom: 0.5rem;">Score Breakdown</div>
                    <div style="font-size: 2rem; font-weight: 800;">
                        <span style="color: @(passed ? "var(--success)" : "var(--danger)")">@Model.NumOfPoint</span>
                        <span style="color: var(--text-muted); font-size: 1.2rem;">/ @Model.TotalPoint</span>
                    </div>
                </div>
                <div style="width: 1px; background: var(--border-color);"></div>
                <div style="text-align: left;">
                    <div style="color: var(--text-muted); font-size: 0.8rem; text-transform: uppercase; font-weight: 700; margin-bottom: 0.5rem;">Accuracy Rank</div>
                    <div style="font-size: 2rem; font-weight: 800; color: var(--text-primary);">
                        @ViewBag.Percent%
                    </div>
                </div>
            </div>

            <div style="display: flex; gap: 1rem; justify-content: center;">
                <button onclick="location.href='/Home/Index'" class="btn-primary" 
                        style="background: var(--bg-primary); border: 1px solid var(--border-color); color: var(--text-primary); padding: 1rem 2rem; border-radius: var(--radius-md); font-weight: 600; cursor: pointer; transition: all 0.2s;">
                    Return Home
                </button>
                <button onclick="location.href='/Home/ViewGrades'" class="btn-primary" 
                        style="background: var(--accent-gradient); border: none; color: white; padding: 1rem 2rem; border-radius: var(--radius-md); font-weight: 700; cursor: pointer; box-shadow: var(--glow-primary);">
                    View Gradebook <i class="fas fa-arrow-right" style="margin-left: 8px; font-size: 0.8rem;"></i>
                </button>
            </div>
        </div>
    </div>

    @if(passed) {
        <div style="margin-top: 2rem; font-size: 0.9rem; color: var(--text-muted);">
            <i class="fas fa-lock" style="margin-right: 5px;"></i> Digital certificate generated and cryptographically signed.
        </div>
    }
</div>
